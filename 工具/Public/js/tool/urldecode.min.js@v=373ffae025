function isEmptyObject(t){for(var e in t)return!1;return!0}function getUrlParams(t){if("string"==typeof t){var r={};return t.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,a){r[e]=decodeURIComponent(a)}),r}console.warn("para url is not a string")}function filterXSS(t){if(!t)return t;for(var e,a=["3c","3e","27","22","28","29","60",{format:"script{}",chr:"3a"}],r=[],l=[],s="{}",n=0;n<a.length;n++)e="string"==typeof a[n]?(s="{}",a[n]):(s=a[n].format,a[n].chr),r.push(s.replace("{}","\\u00"+e)),r.push(s.replace("{}","%"+e)),r.push(s.replace("{}","%25"+e)),l.push(s.replace("{}","&#x"+e+";")),l.push(s.replace("{}","%26%23x"+e+"%3B")),l.push(s.replace("{}","%2526%2523x"+e+"%253B"));for(n=0;n<r.length;n++)t=t.replace(new RegExp(r[n],"gi"),l[n]);return t=t.replace(/script[\u000d\u000a\u0020]+\:/,"script:")}$(document).ready(function(){$("#btn-urlencode").click(function(){var t=$("#tool-form").val();if(""==t)return tips_error("请填写URL！"),!1;var e=encodeURI(t.trim()),a=encodeURIComponent(t.trim());tips_clear();var r='<table class="table table-bordered" width="100%"><tbody>';r+='<tr><td style="width:30%"><span class="label label-warning">encodeURI</span></td><td class="table-td">'+e+' <span class="label label-default btn-copyit" data-clipboard-text="'+e+'">复制</span></td></tr>',r+='<tr><td><span class="label label-warning">encodeURIComponent</span></td><td class="table-td">'+a+' <span class="label label-default btn-copyit" data-clipboard-text="'+a+'"">复制</span></td></tr>',r+="</tbody></table>",$("#tool-output").html(r).show()}),$("#btn-urldecode").click(function(){var t=$("#tool-form").val();if(""==t)return tips_error("请填写URL！"),!1;t=filterXSS(t);var e=decodeURIComponent(t.trim());tips_clear();var a='<table class="table table-bordered" width="100%"><tbody>';a+='<tr><td style="width:30%"><span class="label label-warning">decodeURIComponent</span></td><td class="table-td">'+e+' <span class="label label-default btn-copyit" data-clipboard-text="'+e+'">复制</span></td></tr>',a+="</tbody></table>";var r=getUrlParams(t.trim());if(0==isEmptyObject(r)){for(var l in a+='<table class="table table-bordered" width="100%"><thead><tr><th>NAME</th><th>VALUE</th></thead><tbody>',r)a+='<tr><td style="width:30%" class="table-td">'+l+' <span class="label label-default btn-copyit" data-clipboard-text="'+l+'">复制</span></td><td class="table-td">'+r[l]+' <span class="label label-default btn-copyit" data-clipboard-text="'+r[l]+'">复制</span></td></tr>';a+="</tbody></table>"}$("#tool-output").html(a).show()});var t=new Clipboard(".btn-copyit");t.on("success",function(t){var e=t.trigger.innerHTML;t.trigger.innerHTML="已复制",t.trigger.classList.remove("label-default"),t.trigger.classList.add("label-success"),setTimeout(function(){t.trigger.innerHTML=e,t.trigger.classList.add("label-default"),t.trigger.classList.remove("label-success")},3e3)}),t.on("error",function(t){tips_error("复制失败，请手动操作。")})});
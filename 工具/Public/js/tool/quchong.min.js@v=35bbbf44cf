function unique_text(r){var t,e=0,a="_"+ +new Date+Math.random(),n=[],_={string:{},boolean:{},number:{}},o=r.length,l=[];for(ret_repeat=[];e<o;e++)if(null!=(t=r[e]))if(tp=typeof t,tp in _)t in _[tp]?ret_repeat.push(t):(_[tp][t]=1,l.push(t));else{if(t[a])continue;t[a]=1,n.push(t),l.push(t)}for(e=0,o=n.length;e<o;e++)(t=n[e])[a]=void 0,delete t[a];return[l,ret_repeat]}$(function(){$("#btn-quchong").click(function(){var r=$("#tool-text").val().trim();if(r.length<=0)return tips_error("请输入要去重的文本！"),$("#tool-text").focus(),!1;var t=$("#split_format").val(),e=$("#split_format_after").val(),a=$("#split_format_str").val(),n=$("#split_format_after_str").val();if(re=0==t?/[\r\n]+/g:1==t?/[^\S\r\n]+/g:2==t?",":3==t?"，":4==t?/[\/]/g:5==t?";":6==t?"；":a,rb=0==e?"\n":1==e?" ":2==e?",":3==e?"，":4==e?"/":5==e?";":6==e?"；":7==e?"●":"none"==e?"none":"arr"==e?"arr":n,tips_loading(),arr=r.split(re),arr_l=arr.length,1==arr_l)return tips_error("文本过短或分隔字符选择错误！请检查。"),$("#tool-text").focus(),!1;for(key in arr=$.map(arr,function(r,t){return r.trim()}),r_arr_temp=unique_text(arr),console.log(r_arr_temp),r_arr=r_arr_temp[0],r_arr_repeat=r_arr_temp[1],r_arr_l=r_arr.length,temp="",r_arr)"none"==rb?temp+=r_arr[key]:"arr"==rb?temp+="'"+r_arr[key]+"',":temp+=r_arr[key]+rb;if(tips_clear(),$("#repeat-box").hide(),"none"!=rb){var _=1;100==e&&(_=parseInt(n.length)),temp=temp.substr(0,temp.length-_)}if($("#tool-result").val(temp),tips_text="去重前共<b>"+arr_l+"</b>段文本，去重后共<b>"+r_arr_l+"</b>段文本，已清除<b>"+(arr_l-r_arr_l)+"</b>段重复文本。(蛙蛙工具制作)",tips_success(tips_text),0<r_arr_repeat.length){var o="";for(key in r_arr_repeat)o+=r_arr_repeat[key]+"\n";$("#tool-repeat").val(o),$("#repeat-box").show()}}),$("#btn-split").click(function(){var r=$("#tool-text").val().trim();if(r.length<=0)return tips_error("请输入要修改的文本！"),$("#tool-text").focus(),!1;var t=$("#split_format").val(),e=$("#split_format_after").val(),a=$("#split_format_str").val(),n=$("#split_format_after_str").val();if(re=0==t?/[\r\n]+/g:1==t?/[^\S\r\n]+/g:2==t?",":3==t?"，":4==t?/[\/]/g:5==t?";":6==t?"；":a,rb=0==e?"\n":1==e?" ":2==e?",":3==e?"，":4==e?"/":5==e?";":6==e?"；":7==e?"●":"none"==e?"none":"arr"==e?"arr":n,tips_loading(),arr=r.split(re),arr_l=arr.length,1==arr_l)return tips_error("文本过短或分隔字符选择错误！请检查。"),$("#tool-text").focus(),!1;for(key in arr=$.map(arr,function(r,t){return r.trim()}),temp="",arr)"none"==rb?temp+=arr[key]:"arr"==rb?temp+="'"+arr[key]+"',":temp+=arr[key]+rb;if(tips_clear(),$("#repeat-box").hide(),"none"!=rb){var _=1;100==e&&(_=parseInt(n.length)),temp=temp.substr(0,temp.length-_)}$("#tool-result").val(temp),tips_text="修改成功！",tips_success(tips_text)}),$("#split_format").change(function(){100==$(this).val()?$("#split_format_str").show():$("#split_format_str").hide()}),$("#split_format_after").change(function(){100==$(this).val()?$("#split_format_after_str").show():$("#split_format_after_str").hide()})}),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")};
function currentTime(t){var e=new Date;return"ms"==t?Math.round(e.getTime()):"us"==t?Math.round(1e3*e.getTime()):Math.round(e.getTime()/1e3)}var si_unit="s";setInterval(function(){new Date;$("#current-timestamp span").html(currentTime(si_unit))},1e3),$(document).ready(function(){$("#datetime").val(moment(new Date).format("YYYY-MM-DD HH:mm:ss")),$("#timestamp").val(currentTime(si_unit)),$("#current-timestamp").on("click",function(){$("#timestamp").val($(this).find("span").text()),$("#unix2time").trigger("click")}),$("#timestamp_unit").on("change",function(t){si_unit=$(this).val()}),$("#unix2time").click(function(){var t=$("#timestamp").val(),e=$("#timestamp_unit").val();if(""==t)return tips_error("请输入时间戳！"),$("#timestamp").focus(),!1;if(t=t.replace(/^\s+|\s+$/,""),!/^-?\d+$/.test(t))return tips_error("时间戳格式错误！"),$("#timestamp").focus(),!1;if(t*=1,"s"===e){t*=1e3;var i=moment(t).format("YYYY-MM-DD HH:mm:ss")}else i=moment(t).format("YYYY-MM-DD HH:mm:ss.SSS");tips_clear(),$("#tool-result").show().html(i)}),$("#time2unix").click(function(){var t=$("input[name='datetime']").val(),e=$("#timestamp_unit_o").val();if(""==t)return tips_error("请输入时间！",$("#tool-tips2")),!1;tips_clear();var i="";"s"===e?i=moment(t,"YYYY-MM-DD HH:mm:ss").unix():i=moment(t,"YYYY-MM-DD HH:mm:ss.SSS").valueOf();$("#tool-result2").show().html(i)})});
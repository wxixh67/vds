$(document).ready(function(){var c={UTC:{top:0,continent:"UTC",name:"世界标准时间"},"Asia/Shanghai":{top:1,continent:"亚洲",name:"中国/北京/上海"},"Asia/Tokyo":{top:0,continent:"亚洲",name:"日本/东京"},"Asia/Seoul":{top:0,continent:"亚洲",name:"韩国/首尔"},"Asia/Singapore":{top:0,continent:"亚洲",name:"新加坡/新加坡"},"Asia/Ho_Chi_Minh":{top:0,continent:"亚洲",name:"越南/胡志明"},"Asia/Bangkok":{top:0,continent:"亚洲",name:"泰国/曼谷"},"Asia/Dhaka":{top:0,continent:"亚洲",name:"孟加拉/达卡"},"Asia/Kathmandu":{top:0,continent:"亚洲",name:"尼泊尔/加德满都"},"Asia/Kolkata":{top:0,continent:"亚洲",name:"印度/加尔各答"},"Asia/Colombo":{top:0,continent:"亚洲",name:"斯里兰卡/科伦坡"},"Asia/Karachi":{top:0,continent:"亚洲",name:"巴基斯坦/卡拉奇"},"Asia/Kabul":{top:0,continent:"亚洲",name:"阿富汗/喀布尔"},"Asia/Dubai":{top:0,continent:"亚洲",name:"阿联/迪拜"},"Asia/Tehran":{top:0,continent:"亚洲",name:"伊朗/德黑兰"},"Asia/Baghdad":{top:0,continent:"亚洲",name:"伊拉克/巴格达"},"Africa/Nairobi":{top:1,continent:"非洲",name:"肯尼亚/内罗毕"},"Africa/Cairo":{top:0,continent:"非洲",name:"埃及/开罗"},"Africa/Lagos":{top:0,continent:"非洲",name:"尼日利亚/拉各斯"},"Europe/Moscow":{top:1,continent:"欧洲",name:"俄罗斯/莫斯科"},"Europe/Istanbul":{top:0,continent:"欧洲",name:"土耳其/伊斯坦布尔"},"Europe/Bucharest":{top:0,continent:"欧洲",name:"罗马尼亚/布加勒斯"},"Europe/Paris":{top:0,continent:"欧洲",name:"法国/巴黎"},"Europe/Berlin":{top:0,continent:"欧洲",name:"德国/柏林"},"Europe/London":{top:0,continent:"欧洲",name:"英国/伦敦"},"Europe/Dublin":{top:0,continent:"欧洲",name:"爱尔兰/都柏林"},"Europe/Amsterdam":{top:0,continent:"欧洲",name:"荷兰-阿姆斯特丹"},"America/New_York":{top:1,continent:"美洲",name:"美国/纽约"},"America/Chicago":{top:0,continent:"美洲",name:"美国/芝加哥"},"America/Boise":{top:0,continent:"美洲",name:"美国/盐湖城"},"America/Los_Angeles":{top:0,continent:"美洲",name:"美国/洛杉矶"},"America/Vancouver":{top:0,continent:"美洲",name:"加拿大/温哥华"},"America/Winnipeg":{top:0,continent:"美洲",name:"加拿大/温尼伯"},"America/Toronto":{top:0,continent:"美洲",name:"加拿大/多伦多"},"America/Sao_Paulo":{top:0,continent:"美洲",name:"巴西/圣保罗"},"America/Lima":{top:0,continent:"美洲",name:"秘鲁/利马"},"America/Mexico_City":{top:0,continent:"美洲",name:"墨西哥/墨西哥城"},"Pacific/Auckland":{top:1,continent:"大洋洲",name:"新西兰/奥克兰"},"Australia/Sydney":{top:0,continent:"大洋洲",name:"澳大利亚/悉尼"}};$("#timezone-from").fSelect(),$("#timezone-to").fSelect(),$("#time-from").val(moment().format("YYYY-MM-DD HH:mm:ss")),$("#time-from").cxCalendar({startDate:"2000-01-01",endDate:"3000-12-31",type:"datetime",format:"Y-m-d H:i:s"}),$("#btn-nowtime").click(function(){$("#time-from").val(moment().local().format("YYYY-MM-DD HH:mm:ss")),$("#timezone-from").val(moment.tz.guess()),$("#btn-convert").click()}),$("#btn-nowutctime").click(function(){$("#time-from").val(moment().utc().format("YYYY-MM-DD HH:mm:ss")),$("#timezone-from").val("UTC"),$("#btn-convert").click()}),$("#btn-convert").click(function(){var t=$.trim($("#time-from").val()),n=$("#timezone-from").val(),e=$("#timezone-to").val();if(""==t)return tips_error("请输入时间！"),$("#time-from").focus(),!1;if(""==n)return tips_error("请选择该时间所在的时区！"),$("#timezone-from").focus(),!1;if(""==e||null==e)return tips_error("请选择转换后的时区！"),$("#timezone-to").focus(),!1;if(0==moment(t,["YYYY-MM-DD HH:mm:ss","YYYY-MM-DD HH:mm","YYYY-MM-DD HH","YYYY/MM/DD HH:mm:ss","YYYY/MM/DD HH:mm","YYYY/MM/DD HH","YYYY-MM-DD LT","YYYY-MM-DD h:mm:ss A","YYYY/MM/DD LT","YYYY/MM/DD h:mm:ss A"],!0).isValid())return tips_error("时间格式错误！"),$("#time-from").focus(),!1;$.cookie("wawa_timezone_from",n,{expires:365}),$.cookie("wawa_timezone_to",e,{expires:365});var o=$(".btn");o.attr("disabled","disabled"),tips_loading(),$.ajax({type:"post",dataType:"json",data:{datetime:t},url:WW_URL+"ajax",success:function(t){if(1==t.status){var i=moment.tz(t.data,n),m='<div class="table-scroll-x"><table class="table"><thead><tr><th width="50">洲</th><th>国家/城市</th><th>当地时间</th><th>所在时区</th><th>UTC偏移量</th><th>地区时区</th></tr></thead><tbody>';$.each(e,function(t,n){var e=i.clone().tz(n).format("YYYY-MM-DD HH:mm:ss"),o=i.clone().tz(n).format("Z"),a=i.clone().tz(n).format("z");m+="<td>"+c[n].continent+"</td><td>"+c[n].name+"</td><td>"+e+"</td><td>"+n+"</td><td>"+o+"</td><td>"+a+"</td></tr>"}),m+="</tbody></table></div>",tips_clear(),$("#time-output").html(m),$("#time-output").show()}else $("#time-output").hide(),tips_error(t.info);o.removeAttr("disabled","disabled")}})})});
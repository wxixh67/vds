function numbertowords(){var t=$("#tool-text").val(),e=parseInt($("input[name='read_hyphen']:checked").val());if(""==t)return tips_error("请输入数字金额，如：12345"),$("#tool-text").focus(),!1;if(null!=t.match(/[^,.\d]/))return tips_error("请正确输入数字金额！"),$("#tool-text").focus(),!1;if(null==t.match(/^((\d{1,3}(,\d{3})*(.((\d{3},)*\d{1,3}))?)|(\d+(.\d+)?))$/))return tips_error("请正确输入数字金额！"),$("#tool-text").focus(),!1;tips_loading(),t=(t=t.replace(/,/g,"")).replace(/^0+/,"");var r='<table class="table table-bordered" width="100%">';if(-1!=(t=(t=parseFloat(t)).toString()).indexOf(".")){var n=(t=(t=toFixedFun(t=parseFloat(t),2)).toString()).split(".")[0],i=t.split(".")[1],l=intergernumber(n);if(2<i.length)return tips_error("小数点后仅能是两位，如：123456.88"),$("#tool-text").focus(),!1;var a=l+" AND "+decimalnumber(i),s=l+" AND "+decimalpoint(i),g=l+" AND "+fraction(i)+" "+parseInt(i)+"/100 ONLY",o=intergernumber2(n)+" "+decimalnumber2(i),u=intergernumber3(n)+" and "+decimalnumber3(i);0==e&&(a=a.replace(/-/g," "),s=s.replace(/-/g," "),g=g.replace(/-/g," "),o=o.replace(/-/g," "),u=u.replace(/-/g," ")),r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">美分</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+a+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+a+'"></td></tr>',r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">美点</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+s+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+s+'"></td></tr>',r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">分数</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+g+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+g+'"></td></tr>',r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">常规</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+o+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+o+'"></td></tr>',r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">小写</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+u+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+u+'"></td></tr>'}else{a=numbertotext(t),s=numbertotext2(t),g=numbertotext3(t);0==e&&(a=a.replace(/-/g," "),s=s.replace(/-/g," "),g=g.replace(/-/g," ")),r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">美元</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+a+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+a+'"></td></tr>',r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">常规</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+s+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+s+'"></td></tr>',r+='<tr><td style="vertical-align: middle;font-size: 1rem;width:50px;text-align: center;">小写</td><td style="vertical-align: middle;font-size: 1rem;word-break: break-word;">'+g+'</td><td style="width:90px;text-align: center;"><input class="btn btn-copyit" type="button" value="复制" data-clipboard-text="'+g+'"></td></tr>'}r+="</table>",tips_clear(),$("#tool-result").html(r),$("#tool-result").show()}function intergernumber(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return g=fixedEmptyNumber(g),"SAY US DOLLARS "+g.toUpperCase()}function decimalnumber(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return"one"==g?"CENT "+g.toUpperCase()+" ONLY":"CENTS "+g.toUpperCase()+" ONLY"}function intergernumber2(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return g=fixedEmptyNumber(g),"SAY "+g.toUpperCase()}function decimalnumber2(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return"one"==g?"DOLLARS "+g.toUpperCase()+" CENT ONLY":"DOLLARS "+g.toUpperCase()+" CENTS ONLY"}function intergernumber3(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=", "),g+=toEnglish(num3)+arr1[i-n]);return g=fixedEmptyNumber(g),g+" dollars"}function decimalnumber3(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return"one"==g?g+" cent":g+" cents"}function decimalpoint(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return"POINT "+g.toUpperCase()+" ONLY"}function fraction(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return g.toUpperCase()}$(document).ready(function(){$("#tool-text").on("input",function(){numbertowords()})});var arr1=new Array(""," thousand"," million"," billion"," trillion"," quadrillion"),arr2=new Array("zero","ten","twenty","thirty","forty","fifty","sixty","seventy","eighty","ninety"),arr3=new Array("zero","one","two","three","four","five","six","seven","eight","nine"),arr4=new Array("ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen");function numbertotext(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return g=fixedEmptyNumber(g),"SAY US DOLLARS "+g.toUpperCase()+" ONLY"}function numbertotext2(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=" "),g+=toEnglish(num3)+arr1[i-n]);return g=fixedEmptyNumber(g),"SAY "+g.toUpperCase()+" DOLLARS ONLY"}function numbertotext3(t){var e,r=t.length,n=0,i=Math.ceil(r/3),l=r-3*i;for(g="",e=l;e<r;e+=3)++n,num3=0<=e?t.substring(e,e+3):t.substring(0,3+l),strEng=toEnglish(num3),""!=strEng&&(""!=g&&(g+=", "),g+=toEnglish(num3)+arr1[i-n]);return g=fixedEmptyNumber(g),g+" dollars"}function toEnglish(t){return strRet="",3==t.length&&"000"!=t.substr(0,3)&&("0"!=t.substr(0,1)?(strRet+=arr3[t.substr(0,1)]+" hundred","00"!=t.substr(1,2)&&(strRet+=" and ")):strRet+=" and ",t=t.substring(1)),2==t.length&&("0"==t.substr(0,1)?t=t.substring(1):"1"==t.substr(0,1)?strRet+=arr4[t.substr(1,2)]:(strRet+=arr2[t.substr(0,1)],"0"!=t.substr(1,1)&&(strRet+="-"),t=t.substring(1))),1==t.length&&"0"!=t.substr(0,1)&&(strRet+=arr3[t.substr(0,1)]),strRet}function fixedEmptyNumber(t){return t=(t=(t=(t=(t=(t=t.replace(/and  thousand/g," thousand")).replace(/and  million/g," million")).replace(/and  billion/g," billion")).replace(/and  trillion/g," trillion")).replace(/and  quadrillion/g," quadrillion")).replace(/,  and/g," and")}function toFixedFun(t,l){var e=Number(t);if(isNaN(e)||e>=Math.pow(10,21))return e.toString();if(void 0===l||0===l)return Math.round(e).toString();var r=e.toString(),n=r.split(".");if(n.length<2)return u(r);var i=n[0],a=n[1],s=a.substr(l,1);if(a.length===l)return r;if(a.length<l)return u(r);if(r=i+"."+a.substr(0,l),5<=parseInt(s,10)){var g=Math.pow(10,l),o=Number(r.replace(".",""));o++,r=u((o/=g).toString())}return r;function u(t){var e=t.indexOf(".");if(-1===e){t+=".";for(var r=0;r<l;r++)t+="0";return t}for(var n=l-(t.length-e-1),i=0;i<n;i++)t+="0";return t}}var clipboard_copyit=new Clipboard(".btn-copyit");clipboard_copyit.on("success",function(t){var e=t.trigger.value;t.trigger.value="已复制",setTimeout(function(){t.trigger.value=e},3e3)}),clipboard_copyit.on("error",function(t){alert("复制失败，请手动操作。")});
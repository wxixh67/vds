var text_id=$("#tool-text"),show_type=0,show_proper_nouns=0,proper_nouns="",is_auto_copy=0;function letter_convert(e){var n=text_id.val();if(n.length<=0)return tips_error("请输入要转换的内容！"),text_id.focus(),!1;if(5e3<n.length)return tips_error("输入字符长度不能超过5000！"),text_id.focus(),!1;if(1==show_type)var a=$("#tool-result");else a=$("#tool-text");var t=$(".btn-success");tips_clear(),tips_loading(),setTimeout(function(){switch(e){case"upper_case":a.val(n.toUpperCase()),auto_copy();break;case"lower_case":a.val(n.toLowerCase()),auto_copy();break;case"blank2unline":a.val(blank2unline(n)),auto_copy();break;case"blank2midline":a.val(blank2midline(n)),auto_copy();break;case"blank2camel":a.val(blank2camel(n)),auto_copy();break;case"camel2unline":a.val(camel2unline(n)),auto_copy();break;case"camel2blank":a.val(camel2blank(n)),auto_copy();break;case"unline2blank":a.val(unline2blank(n)),auto_copy();break;case"unline2midline":a.val(unline2midline(n)),auto_copy();break;case"midline2unline":a.val(midline2unline(n)),auto_copy();break;case"unline2dot":a.val(unline2dot(n)),auto_copy();break;case"dot2unline":a.val(dot2unline(n)),auto_copy();break;case"blank2br":a.val(blank2br(n)),auto_copy();break;case"br2blank":a.val(br2blank(n)),auto_copy();break;case"del_blank":a.val(del_blank(n)),auto_copy();break;case"del_punctuation":a.val(del_punctuation(n)),auto_copy();break;case"del_linebreak":a.val(del_linebreak(n)),auto_copy();break;default:"word_case"!=e&&"sentence_case"!=e&&"title_case"!=e||(n=n.toLowerCase()),proper_nouns=1==show_proper_nouns?$("#proper_nouns").val():"",text_id.attr("disabled","disabled"),t.attr("disabled","disabled"),tips_loading(),$.ajax({type:"POST",dataType:"json",url:"/daxiaoxie/ajax",data:{text:n,type:e,nouns:proper_nouns},success:function(e){1==e.status?(tips_clear(),a.val(e.data)):tips_error(e.info),t.removeAttr("disabled","disabled"),text_id.removeAttr("disabled","disabled"),auto_copy()}})}tips_clear()},180)}function auto_copy(){1==is_auto_copy&&(1==show_type?$(".btn-copy").eq(1).trigger("click"):$(".btn-copy").eq(0).trigger("click"))}$(document).ready(function(){if(text_id.bind("keyup",function(){count_text(this)}),$("input[type=radio][name=auto_copy]").change(function(){is_auto_copy=parseInt($("input[name='auto_copy']:checked").val())}),$("input[type=radio][name=show_type]").change(function(){1==(show_type=parseInt($("input[name='show_type']:checked").val()))?($("#tool-result").val(""),$(".new-textarea").slideDown("fast"),$(".one-textarea").hide()):($(".new-textarea").slideUp("fast"),$(".one-textarea").show())}),1==(show_proper_nouns=parseInt(localStorage.getItem("wawa_local_show_proper_nouns")))){$("input[name='show_proper_nouns'][value='1']").prop("checked",!0),$(".proper-nouns-textarea").slideDown("fast");var e=localStorage.getItem("wawa_local_proper_nouns");$("#proper_nouns").val(e)}$("input[type=radio][name=show_proper_nouns]").change(function(){if(1==(show_proper_nouns=parseInt($("input[name='show_proper_nouns']:checked").val()))){$(".proper-nouns-textarea").slideDown("fast");var e=localStorage.getItem("wawa_local_proper_nouns");$("#proper_nouns").val(e),localStorage.setItem("wawa_local_show_proper_nouns",1)}else $(".proper-nouns-textarea").slideUp("fast"),localStorage.setItem("wawa_local_show_proper_nouns",0)}),$("#proper_nouns").on("change",function(){""!=$(this).val()?localStorage.setItem("wawa_local_proper_nouns",$(this).val()):localStorage.removeItem("wawa_local_proper_nouns")})});var blank2unline=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/\s+/g,"_")})).join("\n")},blank2midline=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/\s+/g,"-")})).join("\n")},blank2camel=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return(e=(e=(e=(e=e.trim()).toLowerCase()).replace(/[-_]/g," ")).replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,n){return 0===n?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")})).join("\n")},blank2pascal=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return(e=(e=(e=(e=e.trim()).toLowerCase()).replace(/[-_]/g," ")).replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,n){return e.toUpperCase()})).replace(/\s+/g,"")})).join("\n")},camel2unline=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase()})).join("\n")},camel2blank=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase()})).join("\n")},unline2blank=function(e){return e.replace(/_/g," ")},unline2midline=function(e){return e.replace(/_/g,"-")},midline2unline=function(e){return e.replace(/-/g,"_")},unline2dot=function(e){return e.replace(/_/g,".")},dot2unline=function(e){return e.replace(/\./g,"_")},blank2br=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/\s+/g,"\n")})).join("\n")},br2blank=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/[\r\n]+/g," ").trim()})).join(" ")},del_blank=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/\s+/g,"")})).join("\n")},del_punctuation=function(e){var n=e.split(/\r?\n/);return(n=n.map(function(e){return e.replace(/[^\w\s]|_/g," ").replace(/\s+/g," ").trim()})).join("\n")},del_linebreak=function(e){return e.replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," ")};
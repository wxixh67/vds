function pinyin_convert(r){var t=$("#tool-text").val(),e=$("input[name='tone_type']:checked").val(),a=$("input[name='letter_blank']:checked").val(),o=$("input[name='letter_type']:checked").val(),n=$("input[name='char_type']:checked").val(),i=$("input[name='surname_priority']:checked").val();if(""==t)return tips_error("请填写要转换的内容！"),$("#tool-text").focus(),!1;if(500<t.length)return tips_error("输入字符长度不能超过500！"),$("#tool-text").focus(),!1;var c=$(".btn-success");c.attr("disabled","disabled"),tips_loading(),$.ajax({type:"post",dataType:"json",data:{text:t,type:r,tone_type:e,letter_blank:a,letter_type:o,surname_priority:i},url:WW_URL+"ajax",success:function(t){if(1==t.status){tips_clear();var e=t.data;1==n&&0==r&&(e=charcode_convert(e)),$("#tool-result").html(e),$("#tool-result").show()}else tips_error(t.info);c.removeAttr("disabled","disabled")}})}function charcode_convert(t){if(""==t)return" ";var e="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";r+="abcdefghijklmnopqrstuvwxyz",r+="0123456789",r+=" `~!@#$%^&*()_+-={}|[]:\";'<>?,./";for(var a=0;a<t.length;a++){var o=t.charAt(a);t.charCodeAt(a);-1<r.indexOf(o)?e+=" "==o?"　":String.fromCharCode(t.charCodeAt(a)+65248):e+=String.fromCharCode(t.charCodeAt(a))}return e}$("#tool-text").bind("keyup",function(){count_text(this)});
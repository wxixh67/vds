function br2nl(t){var e=new RegExp("<br>","g");return t=t.replace(e,"\n")}$(function(){$("#btn-translate").click(function(){var t=$("#tool-text").val();if(t.length<=0)return tips_error("请输入要翻译的文字！"),$("#tool-text").focus(),!1;if(1e3<t.length)return tips_error("输入字符长度不能超过1000！"),$("#tool-text").focus(),!1;var e=$("#select-option").val().split("2"),r="auto",o="zh";2==e.length&&(r=e[0],o=e[1]);var a=$(".btn-success");a.attr("disabled","disabled"),tips_loading(),$.ajax({type:"POST",url:"/fanyi/ajax",dataType:"json",headers:{"X-CSRF-Token":getCSRFToken()},data:{text:t,from:r,to:o},success:function(t){1==t.status?(tips_clear(),$("#tool-result").val(br2nl(t.data)),$("#tool-result").show()):tips_error(t.info),a.removeAttr("disabled","disabled")}})}),$(".btn-case").click(function(){if(0==WW_VIP)return tips_error("字母大小写转换为高级会员功能，如需使用请开通！"),!1;var t=$("#tool-result").val(),e=parseInt($(this).data("type"));if(t.length<=0)return tips_error("请先翻译内容！"),!1;tips_loading(),1==e?(tips_clear(),$("#tool-result").val(t.toUpperCase())):2==e?(tips_clear(),$("#tool-result").val(t.toLowerCase())):(tips_clear(),$("#tool-result").val(capitalize_words(t)))}),$("#input-clear").click(function(){$("#tool-text").val(""),$("#tool-result").val(""),count_text()})});var capitalize_words=function(t){var e=t.toLowerCase().split(/\r?\n/);return(e=e.map(function(t){return(t=t.replace(/\s+/g," ").split(" ")).map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" ")})).join("\n")};
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<title>Cookie转换</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta name="author" content="在线工具网站" />
		<meta name="keywords" content="2FA,2fa,2fa在线工具,2FA Auth,2FA live,2FA Code,双重验证工具,汇率换算,世界时间,文本处理工具,FB账号批量检测,facebook批量检测,谷歌验证器网页版,Google authenticator网页版" />
		<meta name="description" content="本站所有在线工具免费使用，旨在方便大家做业务。工具主要有：2FA验证码获取、汇率换算、文本处理、图片编辑、世界时间、节假日倒计时、笔记分享。" />
		<link rel="apple-touch-icon" sizes="144x144" href="https://2fa.run/assets/images/favicons/apple-touch-icon-144x144.png">
		<link rel="apple-touch-icon" sizes="57x57" href="https://2fa.run/assets/images/favicons/apple-touch-icon-57x57.png">
		<link rel="shortcut icon" href="https://2fa.run/assets/images/favicons/tools.png" type="image/png">
		<link rel="stylesheet" type="text/css" href="https://2fa.run/assets/styles/style.css" />
		<style>
			a,a:hover { text-decoration: none; color: rgba(0, 0, 0, .85);}
			.cookie-nav { width: 100%; margin: 10px 0; display: inline-block;}
			.cookie-book { display: flex; justify-content: center; width: 100%; max-height: 100vh;}
			.cookie-book textarea { display: inline-block; width: 100%; height: 30vh; border: 0px; border-radius: 5px; outline: 0;box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, .35);}
			.cookie-book textarea:hover { box-shadow: inset 0px 0px 2px 2px rgba(0, 0, 0, .35);}
			.cookie-book button { width: 50%; max-width: 200px; margin: 10px 0 10px 0; border: 0px; border-radius: 5px; font-weight: 800; font-size: 0.88rem;box-shadow: 2px 2px 2px 1px rgba(0, 0, 0, .35);}
			.cookie-book button:hover { background: white; font-weight: 800; background-color: #54a1ff;color:white;box-shadow: inset 1px 2px 2px 1px rgba(0, 0, 0, .25);}
			#notification-container { position: fixed; top: 20px; right: 20px; z-index: 9999;}
			.notification { background-color: #030303bf; color: #fff; padding: 15px; border-radius: 4px; margin-bottom: 10px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3); opacity: 0; transform: translateX(100%); transition: opacity 0.5s, transform 0.5s;}
			.notification.show { opacity: 1; transform: translateX(0);}
		</style>
	</head>
	<body>
		<main class="main">
			<div class="container gutter-top">
				<div class="row sticky-parent">
					<aside class="col-12 col-md-12 col-lg-2">
						<div class="sidebar box sticky-column">
							<ul class="nav">
								<li class="nav__item"><a href="index.html"><i class="icon-key"></i>2FA工具</a></li>
								<li class="nav__item"><a href="note.html"><i class="icon-clipboard"></i>文本处理</a></li>
								<li class="nav__item"><a href="work.html"><i class="icon-instagram1"></i>图片处理</a></li>
								<li class="nav__item"><a href="money.html"><i class="icon-activity"></i>汇率换算</a></li>
								<li class="nav__item"><a class="active" href="more.html"><i class="icon-more-horizontal"></i>更多工具</a></li>
							</ul>
						</div>
					</aside>
					<div class="col-12 col-md-12 col-lg-10">
						<div class="box box-content">
							<div class="pb-2">
								<a class="title-cookie" href="more.html"><< 返回工具导航</a>
							</div>
							<hr>
							<div class="caption">
								<h1 class="title title-style">cookie转换</h1>
							</div>
							<div class="cookie-book">
								<div class="cookie-tojson">
									<textarea id="inputCookies" spellcheck="false"
										placeholder="输入NetScape cookies数据"></textarea>
									<button onclick="convert();">Netscape转换为JSON</button>
									<textarea id="outputCookies" spellcheck="false"
										placeholder="这里将输出JSON cookies数据"></textarea>
									<button onclick="exportJson();">导出JSON cookies数据</button>
								</div>
							</div>
							<hr>
							<h3 class="title title--h5">cookie工具说明</h3>
							<p class="tip-p"><strong>功能说明</strong>：<span>目前仅支持将Netscape格式的cookie转换为JSON格式的。</span><br /><strong>新手提示</strong>：cookie有多种格式，大多数指纹浏览器支持的都是JSON格式的。
								<br><strong>最近维护</strong>：2023年08月20日
							</p>
						</div>
						<footer class="footer">©2025 在线工具</footer>
					</div>
				</div>
			</div>
		</main>
		<div class="back-to-top"></div>
		<div id="notification-container"></div>
		<!-- JavaScripts -->
		<!--<script src="assets/js/jquery-3.4.1.min.js"></script>-->
		<!--<script src="assets/js/plugins.min.js"></script>-->
		<!--<script src="assets/js/common.js"></script>-->
		<script>
			var prettyPrint = true;

			function convert() {
				let cookies = [];
				let cookiesInput = document.getElementById('inputCookies');
				let cookiesOutput = document.getElementById('outputCookies');
				let lines = cookiesInput.value.split("\n");
				lines.forEach(function(line, i) {
					var tokens = line.split("\t");
					if (tokens.length == 7) {
						let cookie = {};
						tokens = tokens.map(function(e) {
							return e.trim();
						});
						cookie.domain = tokens[0];
						cookie.httpOnly = tokens[1] === "TRUE";
						cookie.path = tokens[2];
						cookie.secure = tokens[3] === "TRUE";
						let timestamp = tokens[4];
						if (timestamp.length == 17) {
							timestamp = Math.floor(timestamp / 1000000 - 11644473600);
						}
						cookie.expirationDate = parseInt(timestamp);
						cookie.name = tokens[5];
						cookie.value = tokens[6];
						cookies.push(cookie);
					}
				});
				if (prettyPrint) {
					cookiesOutput.value = JSON.stringify(cookies, null, 2);
				} else {
					cookiesOutput.value = JSON.stringify(cookies);
				}
				cookiesOutput.focus();
				cookiesInput.value = '';
			}

			function exportJson() {
				var data = document.getElementById("outputCookies");
				var newdata = data.value;
				if(newdata == ""){
				    showNotification("无JSON数据");
				    return;
				}
				var myDate = new Date();
				var name = 'TXT_' + myDate.toLocaleString() + '.txt'; 
				exportRaw(newdata, name);
			}

			function exportRaw(data, name) {
				var urlObject = window.URL || window.webkitURL || window;
				var export_blob = new Blob(["\ufeff" + data], {
					type: 'text/txt;charset=utf-8;'
				});
				var save_link = document.createElementNS("http://www.w3.org/1999/xhtml", "a")
				save_link.href = urlObject.createObjectURL(export_blob);
				save_link.download = name;
				save_link.click();
			}
			
			function showNotification(message) {
				const container = document.getElementById('notification-container');
				const notification = document.createElement('div');
				notification.className = 'notification';
				notification.textContent = message;
				container.appendChild(notification);
				void notification.offsetWidth;
				notification.classList.add('show');
				setTimeout(() => {
					notification.remove();
				}, 3000);
			}
		</script>
	</body>
</html>